# waifu2x-c/c with bat

waifu2x-converter-cppは速いけど、コマンドプロンプトへの入力が煩わしいし、フロントエンドは更新されない・・・。そもそもフォルダの処理に対応してない・・・。
caffeはGUIがあるけれど、遅いし、ファイルの一括処理が面倒・・・。

かといって速い本家(http://waifu2x.udp.jp/)やw2x-multi(http://waifu2x.me/)などのwebサービスを利用すると、ダウンロードをする手間が煩わしい。

そんなあなたに、このbatchセットはいかがですか。

## 概要

- waifu2xのtanakamura氏版cppバージョンとlltcggie氏版caffeバージョンを纏めました。
- batフォルダ内に一括変換に便利なバッチファイルが3種類入っております。
- 本体の最新版が出たらなるべく早く入れ替えます。
- gitに不慣れなためすべてのファイルが新規になっています。ご了承ください。
- I'm sorry, but I won't make English version.

## できること

**簡単な機能しかないconverter-cppでも以下のことができます。**

### batchファイルで可能にしたこと
- ドラッグアンドドロップで一発処理できます。
- 複数ファイルの処理に対応しています。
- 設定はコピペするだけです。
    - 変えるときは、少し面倒くさいかも？
    - でも、自分の好みの設定があれば使用時の設定が不要です。
- フォルダとファイルを混ぜて処理できます。
    - 再帰的にフォルダ内を変換できます(設定でon/off可)。
- 実行時間を表示します。
    - ファイルごとにかかった時間とバッチファイルを起動していた時間両方を記録します。
- 下層フォルダに一括出力できます。
- 処理の経過をまとめたログファイルが作成されます。

#### caffeにあってconverterにない機能
- 入力するファイルの拡張子の変更ができます。
- 出力するファイルの拡張子の指定が可能です。
- auto_modeが使用可能です。
    - auto_mode:jpeg形式のファイルのみノイズ除去を行うモード。

#### webサービスを真似した機能
- superモードがお手軽に利用できます。

## 当セット導入方法
右側にあるDownload ZIPを見つけてダウンロードしてください。

## バッチファイル設定方法
Windows標準のエクスプローラを用いた解説をします。

1. batフォルダに移動します
2. 編集したいbatファイルを選択します。
    - 昔の設定を残したい場合は、ファイルをコピーしてください。
3. 右クリックメニューまたはリボンメニュー(Win 8~)から編集をクリックします。
4. 各設定を書き換えます。設定項目はbatファイルに書いてあるので、コピペなりしてください。

## 注意と便利な使い方
- batファイルを絶対に移動しないでください。
  - とはいいつつwaifu本体があるフォルダの下層に入れれば大丈夫なはず。
  - デスクトップに置きたい場合はショートカットをつくると幸せになれます。
        - batをexe化してもいいかもしれません。
  - 複数の設定を溜め置きする場合は複製しましょう。
  
##現状
- 設定を都度変更できるwizardモードを開発中
- バグがあったらissueに報告してください。

###解決したもの
- 不正な文字が入っていると変換できなかった
    - 調査して一つでもあったらはねるようにした
- converterとcaffeが別の構文だった
    - プログラムは一体化を果たしました

#おまけ:画像ファイルcmyk-rgb変換bat
w2x群と同じbatフォルダに入っています。
案外rgbからcmykに変換するのがうまくいかなかったので公開。
##初期設定
1. ImageMagicとexiftoolを導入してください。(導入方法はググってください)
導入する際に、両方の実行ファイルがあるフォルダにパスを通してください。
    * ImageMagicは、インストールウィザードのどこかにDirectoryがなんちゃらっていう選択肢があるので、そのチェックマークを有効にすると手っ取り早いです
    * ExifToolは、名前をexiftool.exeに改名してください。
2. JapanColor2011Coated.iccをダウンロードします。
    * http://japancolor.jp/icc.html **規約をよく読もう！**
3. JapanColor2011Coated.iccを右クリックメニューからインストール
    * 解凍しないと出てこないかも

##使い方
- waifu2xのbatのようにドラッグアンドドロップしてください。
**注:おまけなのでフォルダをドラッグアンドドロップしても変換しません**
